---
title: "Chapter 1: Computer Networks and the Internet"
date: 2023-09-05T06:46:32Z
draft: false
toc: true
---

## Review Questions

### Section 1.1

1.  There are **no** differences between hosts and end systems. Some types of end
    systems are laptops, mobiles, tablets and PCs. A Web server is also an end
    system.

2.  [Wikipedia](https://en.m.wikipedia.org/wiki/Protocol_(diplomacy)) defines a
    diplomatic protocol as follows.

     > A protocol is a rule which describes how an activity should be performed,
     > especially in the field of diplomacy.

3.  Standards are important for protocols so that everyone using that protocol
    can create services and products using this protocol that are interoperable.

### Section 1.2

4.  Four types of access networks along with their types are given below.

    | Type | Examples |
    | :- | :- |
    | Home access | DSL, Cable |
    | Enterprise access | LAN |
    | Wireless access | Cellular |

5.  HFC transmission rate is shared among users. In the downstream channel, since
    all packets are coming from the CO, there will be _no_ collisions in the
    downstream channel.

6.  The access technologies, speeds and prices per month are given below.

    | Access Technology | Upstream (Mbps) | Downstream (Mbps) | Rate (INR per month) |
    |:-|:-|:-|:-|
    | Cable | 100 | 15 | 800 |
    | Fiber Optic | 250 | 250 | 1000 |
    | DSL | 50 | 10 | 400 |

7.  Ethernet LAN has transmission rates of 100 Mbps to 10 Gbps

8.  Ethernet can run over twisted pair copper wire, coaxial cable, and fiber
    optic cable.

9.  The required details are captured in the table below.

    | Access Technology | Upstream (Mbps) | Downstream (Mbps) | Sharing |
    |:-|:-|:-|:-|
    | HFC | 30 Mbps - 100 Mbps | 40 Mbps - 1.2 Gbps | Shared |
    | DSL | 3.5 Mbps - 16 Mbps | 24 Mbps - 52 Mbps | Shared |
    | FTTH | 100 Mbps - 40 Gbps | 100 Mbps - 40 Gbps | Dedicated |

10. The most popular wireless internet technologies are WiFi and cellular
    access. These are compared below.

    | Parameter | WiFi | Cellular |
    |:-|:-|:-|
    | **Standard** | IEEE 802.11 | 3G/4G/5G |
    | **Range** | Few metres | Upto 10 kilometres |
    | **Cost** | Cheaper | Expensive |
    | **Speed** | Upto Gbps | Upto 45 Mbps |

### Section 1.3

11. Since we are ignoring all other sources of delay, we simply add all
    transmission delays at each link (except the target) for a total delay of

    \begin{equation}
    d = \frac{L}{R\_1} + \frac{L}{R\_2}
    \label{eq:ch01-r11-1}
    \end{equation}

12. A circuit-switched network is reliable and guarantees a throughput for the
    entire duration of communication, unlike packet-switched networks.

    TDM can carry more signals over a given frequency band and is more efficient
    than FDM. TDM is also suitable for communicating digital signals while FDM
    is not.

13. a. If circuit switching is used, then the number of users supported is

    \begin{equation}
    N = \frac{R}{r} = 2
    \label{eq:ch01-r13-1}
    \end{equation}

    where \\(R\\) is the transmission rate of the shared link and \\(r\\) is the
    transmission rate of each user.

    b. For queueing delays to occur, the inbound rate of packets must be larger
    than the transmission rate of the link. This only happens when \\(M\\) users
    are transmitting at the same time, where

    \begin{equation}
    Mr > R \implies M > R/r = 2.
    \label{eq:ch01-r13-2}
    \end{equation}
    
    Hence, there will be essentially no queueing delay if there are less than
    two users active at the same time and there will be a queuing delay when
    three users transmit at the same time.

    c. The probability that a user is transmitting is \\(p = 0.2\\).

    d. Suppose \\(Y\\) is a random variable denoting the number of active users
    at any time. By the given parameters,

    \begin{equation}
    Y \sim \textrm{Bin}\brak{n, p}
    \label{eq:ch01-r13-3}
    \end{equation}
    
    where \\(n = 3\\) and \\(p = 0.2\\). Thus,
    
    \begin{equation}
    \pr{Y=3} = p^3 = 8 \times 10^{-3},
    \label{eq:ch01-r13-4}
    \end{equation}
    
    or in other words, the queue grows for 0.8 % of the time.

14. Two ISPs at the same level of hierarchy will peer with each other for mutual
    benefit of faster connectivity by bypassing ISPs in the upper hierarchy and
    therefore potentially reducing the number of hops.

    When ISPs apply to peer at an IXP, the IXP collects a fee for this process.
    IXPs can also earn money by hosting data in their own datacenters.

15. Google's network is called a **content distribution network (CDN)**. It
    consists of multiple datacenter servers distributed at different locations,
    connected through dedicated links. Content providers create these networks
    to distribute their content more effectively to a wider area, without
    relying entirely on existing connections. They may also create such CDNs due
    to security and copyright reasons of the content hosted on these servers.

### Section 1.4

16. Components of end-to-end delay and their variability are described below.

    | Delay Component | Variability |
    |:-|:-|
    | Processing Delay | Constant |
    | Queuing Delay | Variable |
    | Transmission Delay | Constant |
    | Propagation Delay | Constant |

17. For link 2, the transmission delay is given by

    \begin{equation}
    d\_{\textrm{trans}} = \frac{L}{R\_2} = \frac{12 \times 10^3}{1000 \times 2^{20}}\text{ s} \approx 12\ \mu\text{s}
    \label{eq:ch01-r17-1}
    \end{equation}

    and propagation delay is given by

    \begin{equation}
    d\_{\textrm{prop}} = \frac{d\_2}{c} = \frac{5 \times 10^5}{3 \times 10^8}\text{ s} \approx 1.67\text{ ms}.
    \label{eq:ch01-r17-2}
    \end{equation}

    Thus, in link 2, the sender finishes transmitting before the first bit of
    the packet reaches the receiver.


    For link 3, the transmission delay is given by

    \begin{equation}
    d\_{\textrm{trans}} = \frac{L}{R\_3} = \frac{12 \times 10^3}{10 \times 2^{20}}\text{ s} \approx 1.2\text{ ms},
    \label{eq:ch01-r17-3}
    \end{equation}

    and propagation delay is given by

    \begin{equation}
    d\_{\textrm{prop}} = \frac{d\_3}{c} = \frac{3 \times 10^3}{3 \times 10^8}\text{ s} \approx 30\ \mu\text{s}.
    \label{eq:ch01-r17-4}
    \end{equation}

    Thus, in link 3, the first bit of the packet reaches the receiver before the
    sender finishes transmitting.

18. For the general case, we see that the time taken by the packet to propagate,

    \begin{equation}
    d\_{\textrm{total}} = d\_{\textrm{trans}} + d\_{\textrm{prop}} = \frac{L}{R} + \frac{d}{s}.
    \label{eq:ch01-r18-1}
    \end{equation}

    Here, delay is directly proportional to packet length and inversely
    proportional to transmission rate.

    We are given the following parameters
    | Parameter | Value |
    |:-|:-|
    | \\(L\\) | \\(1000 \textrm{ bits}\\) |
    | \\(R\\) | \\(2 \textrm{ Mbps}\\) |
    | \\(d\\) | \\(2500 \textrm{ km}\\) |
    | \\(s\\) | \\(2.5 \times 10^8 \textrm{ ms}^{-1}\\) |

    Substituting into \eqref{eq:ch01-r18-1}, we get \\(d = 10.48 \textrm{ ms}\\).

19. 1. The throughput is

        \begin{equation}
        R = \min\brak{R\_1, R\_2, R\_3} = 500 \text{ kbps}.
        \label{eq:ch01-r19-1}
        \end{equation}

    2. The time taken to complete the transfer is

        \begin{equation}
        t = \frac{4\times 8\times 10^6}{500 \times 2^{10}} \approx 62.5\text{ s}.
        \label{eq:ch01-r19-2}
        \end{equation}

    3. The new throughput will be

        \begin{equation}
        R' = \min\brak{R\_1', R\_2', R\_3'} = 100 \text{ kbps} = \frac{R}{5}.
        \label{eq:ch01-r19-3}
        \end{equation}

        and therefore the total time is

        \begin{equation}
        t' = 5t = 312.5\text{ s}.
        \label{eq:ch01-r19-4}
        \end{equation}

20. End system A divides the file into chunks of data called packets. Each
    packet has its own metadata which contains the destination of the packet,
    among other userful information. The packet headers are used by a router to
    determine the link onto which the packet is forwarded. This is analogus to
    asking directions at each junction en route to the destination.

21. The maximum emission rate is 500 packets per second and the minimum
    transmission rate is 350 packets per second. Thus, the maximum traffic
    intensity is

    \begin{equation}
    I\_{\text{max}} = \frac{500}{350} = \frac{10}{7}.
    \label{eq:ch01-r21-1}
    \end{equation}

    Packet loss occurs after about 8.3 seconds in the first iteration and after
    about 9.6 seconds in the second iteration. This is because the inter-arrival
    times are randomly chosen.

### Section 1.5

22. A layer can perform the following tasks.
    1. Split data into packets to send to the target.
    2. Use services of the layer below it to implement its own services.
    3. Add its own metadata to the packet before passing it to the lower layer.
    4. Ensure that the packet reaches its destination reliably.
    5. Determine the route a packet should take from the sender.

    The transport and the link layer both replicate the function of reliable
    transfer, but on different scales (end-to-end and node-to-node).

23. The five layers and their functions are shown below.

    | Layer | Function |
    |:-|:-|
    | Application Layer | Send messages to host |
    | Transport Layer | Send packet to host |
    | Network Layer | Route packet to destination |
    | Link layer | Send packet over link to next router |
    | Physical Layer | Send individual bits over wire |

24. 1. **Message**: The packet of data sent by application layer.
    2. **Segment**: Application-layer message encapsulated with transport-layer
       header.
    3. **Datagram**: Transport-layer segment encapsulated with network-layer
       header.
    4. **Frame**: Network-layer datagram encapsulated with link-layer header.

25. Network layer and link layer is processed by a router. A link-layer switch
    processes only a router. A host processes all layers up from link-layer to
    application-layer.

### Section 1.6

26. Self-replicating malware is a malicious application that infects a host
    system and looks to replicate itself on other connected hosts.

27. A botnet is created by infecting devices in a network with a similar
    malware. The attacker instructs these compromised devices to blast traffic
    at the target host, thereby createing a DDoS attack.

28. Trudy can do the following.
    1. Manipulate packet data to make it malicious and harmful to either Alice
       or Bob's system. Trudy might compromise both systems and create a botnet
       for a DDoS attack on some other host on this network.
    2. IP spoof as either Alice or Bob to obtain private information that can be
       used for malicious actions.

## Problems

1.  The ATM supports the following instructions to be sent to the centralized
    server.
    1. `HI`. Initial command to set up the connection. ATM data is also sent as
       payload.
    2. `USER`. This command is to authenticate the user of the ATM. It has two
       encrypted fields.
        * `Card-Number: XXX`. This is the card number of the swiped ATM card.
        * `Password: XXX` This is the password entered by the user.
    
    3. `AMT`. This queries the amount of the authenticated user.
    4. `WITH`. This command is used to withdraw money. It has an encrypted field
       `Amount: XXX` which is the amount to be withdrawn.
    5. `BYE`. This command is to close the connection.

    The centralized bank server responds with the following status codes and
    phrases.
    1. `800 Connected`. Connection from ATM is established. 
    2. `400 Authenticated`. User is authenticated.
    3. `401 Card Not Found`. Card is not present in database.
    4. `402 Authentication Failed`. User did not authenticate themselves
       correctly.
    5. `100 OK`. Query successfully processed, and balance or withdrawn account
       is present in the `Amount` field of the response, encrypted.
    6. `200 Bad Query`. The server did not understand the query sent by the ATM.
    7. `101 Low Balance`. This is sent on a withdrawal query when there is not
       enough money to cover the withdrawal.
    8. `801 Disconnected`. This is sent when the ATM ends the session.
    9. `802 Session Error`. This is sent when the session ends abnormally.

    For a simple withdrawal with no errors, we have the following interaction.

    1. ATM: `HI`.
    2. S: `800 Connected`.
    3. ATM: `USER` (with fields).
    4. S: `400 Authenticated`.
    5. ATM: `WITH Amount: 100`.
    6. S: `100 OK Amount: 100`.
    7. ATM: `BYE`.
    8. S: `801 Disconnected`.

    The assumptions made about the transport layer are:
    1. Packets are reliably sent from ATM to server.
    2. Packets can be encrypted by the transport layer.

2.  The time taken for one packet to traverse \\(N\\) links is

    \begin{equation}
    t\_1 = N\frac{L}{R}.
    \label{eq:ch01-p02-1}
    \end{equation}

    However, the last packet experiences a queuing delay

    \begin{equation}
    t\_q = (P-1)\frac{L}{R}.
    \label{eq:ch01-p02-2}
    \end{equation}
    
    Thus, the total time taken is equal to the time the last packet reaches its
    destination. Hence,
    
    \begin{equation}
    t = t\_1 + t\_q = (N+P-1)\frac{L}{R}.
    \label{eq:ch01-p02-3}
    \end{equation}

3.  1. A circuit-switched network would be more appropriate, since the data is
      not bursty and irregular in its timing.
    2. Congestion control is not needed as the traffic intensity at any node is
       always less than 1, resulting in no queue build-up.

4.  1. 16 connections can be set up, with each pair of systems being at both
       endpoints of every connection.
    2. Each connection goes through either switch B or D and takes two links.
       Since there are four circuits on each link, we can have four connections
       through each B and D, for a total of 8 connections.
    3. Yes, we can set up the required connections. Two of the four connections
       from A to C go though B and D each, and vice versa.

5.  1.  In this case, three transmission delays are experienced, each of 2
        minutes as before. The propagation delay between any adjacent tollbooths
        is now

        \begin{equation}
        d\_{\text{prop}} = \frac{100}{175}\text{ h} = \frac{4}{7}\text{ h}.
        \label{eq:ch01-p05-1}
        \end{equation}

        Hence, the end-to-end delay is
        
        \begin{equation}
        d\_{\text{tot}} = 2d\_{\text{prop}} + 3d\_{\text{trans}} \approx 74.57 \text{ min}.
        \label{eq:ch01-p05-2}
        \end{equation}

    2.  Here, the transmission delay changes, and is equal to

        \begin{equation}
        d\_{\text{trans}} = \frac{8}{5}\text{ min} = 1.6\text{ min}.
        \label{eq:ch01-p05-3}
        \end{equation}

        Thus, the end-to-end delay is
        
        \begin{equation}
        d\_{\text{tot}} = 2d\_{\text{prop}} + 3d\_{\text{trans}} \approx 73.77 \text{ min}.
        \label{eq:ch01-p05-4}
        \end{equation}

6.  1.  The propagation delay is given by

        \begin{equation}
        d\_{\text{prop}} = \frac{m}{s}.
        \label{eq:ch01-p06-1}
        \end{equation}

    2.  The transmission delay is given by

        \begin{equation}
        d\_{\text{trans}} = \frac{L}{R}.
        \label{eq:ch01-p06-2}
        \end{equation}

    3.  The total end-to-end delay is given by

        \begin{equation}
        d = d\_{\text{trans}} + d\_{\text{prop}} = \frac{L}{R} + \frac{m}{s}.
        \label{eq:ch01-p06-3}
        \end{equation}

    4.  At time \\(t = d\_{\text{trans}}\\), the entire packet has just been
        pushed onto the outbound link. Thus, the last bit is at the start of the
        link.

    5.  If \\(d\_{\text{prop}} > d\_{\text{trans}}\\), the entire packet will be
        pushed out before the first bit reaches the destination router. Hence, at
        time \\(t = d\_{\text{trans}}\\), the first bit of the packet is still
        propagating to the destination router.

    6.  If \\(d\_{\text{prop}} < d\_{\text{trans}}\\), the first bit reaches the
        destination router before the entire packet is pushed onto the link.
        Hence, at time \\(t = d\_{\text{trans}}\\), the first bit of the packet
        has reached the destination router.

    7.  We require,

        \begin{align}
        d\_{\text{prop}} &= d\_{\text{trans}} \\\\
        \frac{m}{s} &= \frac{L}{R} \\\\
        \implies m &= \frac{sL}{R} = 2.86\times 10^5\text{ m}
        \end{align}

        on substituting values.

7.  Suppose the bitrate is \\(B\\), packet length is \\(L\\), transmission rate
    is \\(R\\) and propagation delay is \\(d\_{\text{prop}}\\). The values of
    each parameter is given below.

    | Parameter | Value |
    |:-|:-|
    | \\(B\\) | \\(64\text{ kbps}\\) |
    | \\(L\\) | \\(56\text{ B}\\) |
    | \\(R\\) | \\(10\text{ Mbps}\\) |
    | \\(d\_{\text{prop}}\\) | \\(10\text{ ms}\\) |

    The end-to-end delay now includes the time required to create one packet,
    and is given by

    \begin{equation}
    d = d\_{\text{bitrate}} + d\_{\text{trans}} + d\_{\text{prop}} = \frac{L}{B} + \frac{L}{R} + d\_{\text{prop}}.
    \label{eq:ch01-p07-1}
    \end{equation}
    
    Substituting values in \eqref{eq:ch01-p07-1} gives \\(d = 16.88\text{
    ms}\\).

8.  1.  When circuit switching is used, the total number of users is

        \begin{equation}
        N = \floor\*{\frac{R}{r}} = \floor\*{\frac{10\times 2^{20}}{200\times 2^{10}}} = 51\text{ users}.
        \label{eq:ch01-p08-1}
        \end{equation}

    2.  Each user transmits 10 % of the time. Therefore, the probability that a
        user is transmitting is

        \begin{equation}
        p = 0.1
        \label{eq:ch01-p08-2}
        \end{equation}
    
    3.  Suppose \\(Y\\) is a random variable denoting the number of users
        transmitting at a given instant. Then, if there are \\(N\\) users with a
        probability \\(p\\) that each user is transmitting,

        \begin{equation}
        Y \sim \textrm{Bin}\brak{N,p}.
        \label{eq:ch01-p08-3}
        \end{equation}

        Hence,
        
        \begin{equation}
        \pr{Y=n} = \binom{N}{n}p^n\brak{1-p}^{N-n} = \binom{120}{n}\brak{0.1}^n\brak{0.9}^{120-n}
        \label{eq:ch01-p08-4}
        \end{equation}
    
    4.  We have, where \\(F\_Y\brak{k} \triangleq \pr{Y \le k}\\),

        \begin{equation}
        \pr{Y\ge 51} = 1 - \pr{Y\le 50} = 1 - F_Y\brak{50} \approx 0.
        \label{eq:ch01-p08-5}
        \end{equation}

9.  1.  Under circuit switching, the maximum number of users supported is

        \begin{equation}
        N = \floor\*{\frac{1\times2^{30}}{100*2^{10}}} = 104875.
        \label{eq:ch01-p09-1}
        \end{equation}

    2.  Let \\(Y \sim \text{Bin}\brak{M,p}\\) be the binomial random variable
        repesenting the number of active users. Then,

        \begin{equation} 
        \pr{ Y > N} = \sum_{n=N+1}^{M}\binom{M}{n}p^n\brak{1-p}^{M-n}
        \lab el{eq:ch01-p09-2}
        \end{equation}
         
10. We account for transmission and propagation delays of each link, along with
    processing delays at packet swithces only. Thus, for \\(N\\) links, the
    total end-to-end delay is

    \begin{equation}
    d = \sum_{i=1}^N\brak{d\_{\text{trans}\_i} + d\_{\text{prop}\_i}} + \brak{N-1}d\_{\text{proc}} = \sum_{i=1}^N\brak{\frac{d\_i}{s\_i} + \frac{L}{R\_i}} + \brak{N-1}d\_{\text{proc}}.
    \label{eq:ch01-p10-1}
    \end{equation}

    Substituting the given parameters, we get \\(d = 23.73\text{ ms}\\).

11. There will only be one transmission delay, which is the source pushing out
    the packet to the link. The new end-to-end delay is then

    \begin{equation}
    d = \sum_{i=1}^N\frac{d\_i}{s\_i} + \frac{L}{R}.
    \label{eq:ch01-p11-1}
    \end{equation}

12. In a general case, we will have \\(n\\) transmission delays and an
    additional fraction \\(\frac{x}{L}\\) transmission delay to push out the
    current packet entirely. Hence, the total queueing delay is

    \begin{equation}
    d\_{\text{queue}} = \brak{n + \frac{x}{L}}\frac{L}{R} = \frac{nL + x}{R}.
    \label{eq:ch01-p12-1}
    \end{equation}

    In the given situation, the parameters are as follows.
    
    | Parameter | Value |
    |:-|:-|
    | \\(n\\) | 4 |
    | \\(x\\) | 750 B |
    | \\(L\\) | 1500 B |
    | \\(R\\) | 2.5 Mbps |

    Substituting in \eqref{eq:ch01-p12-1}, we get \\(d\_{\text{queue}} =
    20.60\text{ ms}\\).

13. 1.  In the queue, the \\(n^{\text{th}}\\) packet experiences a queueing
        delay of

        \begin{equation}
        d\_n \triangleq \brak{n-1}\frac{L}{R}.
        \label{eq:ch01-p13-1}
        \end{equation}

        Taking the average of \\(d\_n\\), we see that the average queuing delay
        is
        
        \begin{equation}
        \bar{d} = \frac{\sum_{n=1}^Nd\_n}{N} = \frac{N-1}{2}\frac{L}{R}.
        \label{eq:ch01-p13-2}
        \end{equation}

    2.  Here, after every \\(\frac{LN}{R}\\) seconds, the last packet will be
        completely transmitted. This implies that the new set of packets will
        have no additional queueing delay. Hence, the average delay remains as
        in \eqref{eq:ch01-p13-2}.

14. 1.  The total delay is

        \begin{equation}
        d = d\_{\text{queue}} + d\_{\text{trans}} = \frac{L}{R}\brak{1 + I - I^2}
        \label{eq:ch01-p14-1}
        \end{equation}

    2.  Clearly, the total delay is linearly related to the transmission rate
        \\(\frac{L}{R}\\) at a given traffic intensity \\(I < 1\\).

15. Here, we have \\(\frac{L}{R} = \mu\\) and \\(I = a\mu\\). Substituting in
    \eqref{eq:ch01-p14-1},

    \begin{equation}
    d = \mu\brak{1 + a\mu - a^2\mu^2}.
    \label{eq:ch01-p15-1}
    \end{equation}